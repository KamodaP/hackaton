<html metal:use-macro="load: main.pt">

<div metal:fill-slot="content">

<form>
  <input type="radio" name="game_list_type" data-id="all" checked="checked" style="visibility:visible;position:static" value="all"> All your games<br>
  <input type="radio" name="game_list_type" data-id="public" style="visibility:visible;position:static" value="public"> Your public games<br>
  <input type="radio" name="game_list_type" data-id="private" style="visibility:visible;position:static" value="private"> Your private games
</form>


<div class = "container" id="all">
<table>
	<thead>
		<tr>
			<th data-field="name">Name</th>
			<th data-field="owner_id">Owner</th>
			<th data-field="tags">Tags</th>
		</tr>
	</thead>
	<tbody>
		<tr tal:repeat="item all_game_records"  class="clickable-row" data-href="${request.route_url('game_view')}${item.link}">
			<td>${item.name}</td>
			<td>${item.owner}</td>
			<td>${item.tags}</td>
		</tr>
	</tbody>
</table>
</div>

<div class = "none" id="public">
<table>
	<thead>
		<tr>
			<th data-field="name">Name</th>
			<th data-field="owner_id">Owner</th>
			<th data-field="tags">Tags</th>
		</tr>
	</thead>
	<tbody>
		<tr tal:repeat="item public_game_records">
			<td>${item.name}</td>
			<td>${item.owner}</td>
			<td>${item.tags}</td>
		</tr>
	</tbody>
</table>
</div>

<div class = "none" id="private">
<table>
	<thead>
		<tr>
			<th data-field="name">Name</th>
			<th data-field="owner_id">Owner</th>
			<th data-field="tags">Tags</th>
		</tr>
	</thead>
	<tbody>
		<tr tal:repeat="item private_game_records">
			<td>${item.name}</td>
			<td>${item.owner}</td>
			<td>${item.tags}</td>
		</tr>
	</tbody>
</table>
</div>

<script>
$(':radio').change(function (event) {
    var id = $(this).data('id');
    $('#' + id).addClass('container').siblings().removeClass('none');
});
$(function() {
  $('.game_list_type').change(function() {
    if($(this).val() == 'all') {$('#all').slideToggle('500');}
    if($(this).val() == 'public') {$('#public').slideToggle('500');} 
    if($(this).val() == 'private') {$('#private').slideToggle('500');}
  });
});

jQuery(document).ready(function($) {
    $(".clickable-row").click(function() {
        window.document.location = $(this).data("href");}
    });
</script>

</div>
</html>